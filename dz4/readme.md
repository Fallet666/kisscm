# Задание 4

## Условие

Разработать ассемблер и интерпретатор для учебной виртуальной машины
(УВМ). Система команд УВМ представлена далее.

Для ассемблера необходимо разработать читаемое представление команд
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к
которой задается из командной строки. Результатом работы ассемблера является
бинарный файл в виде последовательности байт, путь к которому задается из
командной строки. Дополнительный ключ командной строки задает путь к файлу-
логу, в котором хранятся ассемблированные инструкции в духе списков
“ключ=значение”, как в приведенных далее тестах.

Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон
также указывается из командной строки.

Форматом для файла-лога и файла-результата является **csv**.

Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.

### Загрузка константы

| А        | B         | C          |
|----------|-----------|------------|
| Биты 0—2 | Биты 3—26 | Биты 27—33 |
| 0        | Константа | Адрес      |

Размер команды: 5 байт. Операнд: поле B. Результат: регистр по адресу,
которым является поле C.

    Тест (A=0, B=482, C=22):
    0x10, 0x0F, 0x00, 0xB0, 0x00

### Чтение из памяти
| А        | B        | C          |
|----------|----------|------------|
| Биты 0—2 | Биты 3—9 | Биты 10-34 |
| 0        | Адрес    | Адрес      |

Размер команды: 5 байт. Операнд: ячейка памяти по адресу, которым
является поле C. Результат: регистр по адресу, которым является поле B.

    Тест (A=7, B=45, C=310):
    0x6F, 0xD9, 0x04, 0x00, 0x00

### Запись в память

| A        | B        | C          | D          |
|----------|----------|------------|------------|
| Биты 0—2 | Биты 3—9 | Биты 10—16 | Биты 17—30 |
| 3        | Адрес    | Адрес      | Смещение   |

Размер команды: 4 байт. Операнд: регистр по адресу, которым является поле
B. Результат: ячейка памяти по адресу, которым является сумма адреса (регистр
по адресу, которым является поле C) и смещения (поле D).

    Тест (A=1, B=95, C=33, D=543):
    0xF9, 0x86, 0x3E, 0x04

### Бинарная операция: побитовое "или"

| A        | B         | C          | D          |
|----------|-----------|------------|------------|
| Биты 0—2 | Биты 3—16 | Биты 17—23 | Биты 24—30 |
| 3        | Смещение  | Адрес      | Адрес      |

Размер команды: 4 байт. Первый операнд: регистр по адресу, которым
является поле C. Второй операнд: ячейка памяти по адресу, которым является
сумма адреса (регистр по адресу, которым является поле D) и смещения (поле B).
Результат: регистр по адресу, которым является поле C.

    Тест (A=3, B=878, C=108, D=83):
    0x73, 0x1B, 0xD8, 0x53